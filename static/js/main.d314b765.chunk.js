(this.webpackJsonpauthform=this.webpackJsonpauthform||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(21),s=n.n(a),o=(n(27),n(11)),i=n(3),u=n(6),l=(n(28),n(2)),j=Object(l.c)(),b=j.store(!1),d=j.store(!1),h=j.event(),O=j.effect(),f=j.event(),m=Object(l.c)(),p=m.store(""),x=m.store(""),g=m.store(null),v=m.event(),w=m.event(),N=m.event(),F=m.effect(),_=n(1),k=function(){var e=Object(u.a)(p),t=Object(u.a)(x),n=Object(u.a)(g),c=Object(i.f)();return r.a.useEffect((function(){var e=F.done.watch((function(){c.push("/mainpage")}));return function(){return e()}}),[]),Object(_.jsx)("div",{className:"wrapper",children:Object(_.jsxs)("div",{className:"authForm",children:[Object(_.jsx)("h1",{children:"Login"}),Object(_.jsx)("p",{children:n}),Object(_.jsx)("p",{children:"Please sing-in to your account"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("label",{children:"Email"}),Object(_.jsx)("input",{className:"input",placeholder:"email",value:e,onChange:function(e){return v(e.target.value)}}),Object(_.jsxs)("div",{className:"authForm__password",children:[Object(_.jsx)("label",{children:"Password"})," ",Object(_.jsx)(o.b,{className:"authForm__link--pass",to:"/registration",children:"Forgot Password?"})]}),Object(_.jsx)("input",{className:"input",type:"password",placeholder:"password",value:t,onChange:function(e){return w(e.target.value)}}),Object(_.jsx)("button",{className:"button_auth",onClick:function(){return N()},children:"\u0412\u043e\u0439\u0442\u0438"}),Object(_.jsxs)("div",{className:"authForm__links",children:[Object(_.jsx)("p",{children:"New on our platform?"})," ",Object(_.jsx)(o.b,{className:"authForm__link--bottom",to:"/registration",children:"Create an account"})]})]})]})})},C=function(){return Object(_.jsx)(k,{})},E=Object(l.c)(),S=E.store(""),y=E.event(),P=E.store(""),I=E.event(),J=E.store(""),D=E.event(),L=E.event(),T=E.createEffect(),B=function(){var e=Object(u.a)(S),t=Object(u.a)(P),n=Object(u.a)(J),c=Object(u.a)(g),a=Object(i.f)();return r.a.useEffect((function(){var e=T.done.watch((function(){a.push("/mainpage")}));return function(){return e()}}),[]),Object(_.jsx)("div",{className:"wrapper",children:Object(_.jsxs)("div",{className:"authForm",children:[Object(_.jsx)("h1",{children:"Registration"}),Object(_.jsx)("p",{children:c}),Object(_.jsx)("label",{children:"Username"}),Object(_.jsx)("input",{className:"input",autoFocus:!0,placeholder:"username",value:n,onChange:function(e){return D(e.target.value)}}),Object(_.jsx)("label",{children:"Email"}),Object(_.jsx)("input",{className:"input",placeholder:"email",value:e,onChange:function(e){return y(e.target.value)}}),Object(_.jsx)("label",{children:"Password"}),Object(_.jsx)("input",{className:"input",type:"password",placeholder:"password",value:t,onChange:function(e){return I(e.target.value)}}),Object(_.jsx)("button",{className:"button_auth",onClick:function(){return L()},children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(_.jsxs)("div",{className:"authForm__links",children:[Object(_.jsx)("p",{children:"Already have an account?"}),Object(_.jsx)(o.b,{className:"authForm__link--bottom",to:"/",children:"Sign in instead"})]})]})})},R=function(){return Object(_.jsx)(B,{})},A=function(){var e=Object(u.a)(p);return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("p",{children:["\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u043a\u0430\u043a ",e]}),Object(_.jsx)("button",{className:"button_auth",onClick:function(){return f()},children:"\u0412\u044b\u0439\u0442\u0438"})]})},M=function(){var e=Object(u.a)(b);return r.a.useEffect((function(){h()}),[]),e?Object(_.jsx)(o.a,{children:Object(_.jsxs)(i.c,{children:[Object(_.jsx)(i.a,{exact:!0,path:"/",children:Object(_.jsx)(q,{children:Object(_.jsx)(C,{})})}),Object(_.jsx)(i.a,{exact:!0,path:"/registration",children:Object(_.jsx)(q,{children:Object(_.jsx)(R,{})})}),Object(_.jsx)(i.a,{exact:!0,path:"/mainpage",children:Object(_.jsx)(U,{children:Object(_.jsx)(A,{})})})]})}):Object(_.jsx)(_.Fragment,{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})},U=function(e){var t=e.children,n=Object(i.f)(),c=Object(u.a)(b),a=Object(u.a)(d);return r.a.useEffect((function(){a||n.replace("/")}),[c,a]),Object(_.jsx)(_.Fragment,{children:t})},q=function(e){var t=e.children,n=Object(i.f)(),c=Object(u.a)(b),a=Object(u.a)(d);return r.a.useEffect((function(){a&&n.replace("/mainpage")}),[c,a]),Object(_.jsx)(_.Fragment,{children:t})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};b.on(O.done,(function(){return!0})).on(O.fail,(function(){return!0})),Object(l.g)({from:h,to:O}),d.on(O.done,(function(){return!0})).on(f,(function(){return!1})).on(F.doneData,(function(){return!0})),f.watch((function(){localStorage.clear()})),p.on(v,(function(e,t){return t})),x.on(w,(function(e,t){return t})),F.use((function(e){var t={email:e.email,password:e.password},n=JSON.stringify(t);return localStorage.setItem("credentials",n)})),g.on(F.fail,(function(){return console.log("\u043e\u0448\u0438\u0431\u043a\u0430 \u043b\u043e\u0433\u0438\u043d\u0430")})).reset([v,w]),F.doneData.watch((function(e){var t=e.data;console.log(t),localStorage.setItem("authToken",t.token)})),Object(l.j)({clock:N,target:F,source:Object(l.b)(p,x,(function(e,t){return{email:e,password:t}}))}),S.on(y,(function(e,t){return t})),P.on(I,(function(e,t){return t})),J.on(D,(function(e,t){return t})),T.use((function(e){var t={username:e.username,email:e.email,password:e.password},n=JSON.stringify(t);return localStorage.setItem("credentialsReg",n)}));var G=Object(l.b)(J,S,P,(function(e,t,n){return{username:e,email:t,password:n}}));Object(l.j)({source:G,target:T,clock:L}),s.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(M,{})}),document.getElementById("root")),z()}},[[38,1,2]]]);
//# sourceMappingURL=main.d314b765.chunk.js.map